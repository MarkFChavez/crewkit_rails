<div class="space-y-6">
  <!-- Header -->
  <div class="flex justify-between items-start">
    <div>
      <h1 class="text-3xl font-bold text-gray-900"><%= @team.name %></h1>
      <p class="text-lg text-gray-600 mt-1"><%= @team.company %></p>
      <% if @team.description.present? %>
        <p class="text-gray-600 mt-2"><%= @team.description %></p>
      <% end %>
    </div>
    <div class="flex space-x-3">
      <%= link_to "Edit Team", edit_team_path(@team), class: "bg-emerald-600 text-white px-4 py-2 rounded-md hover:bg-emerald-700 font-medium" %>
      <% if @team.active? %>
        <%= button_to "Archive", archive_team_path(@team), method: :patch, form: { data: { turbo_confirm: "Archive this team?" } }, class: "bg-yellow-600 text-white px-4 py-2 rounded-md hover:bg-yellow-700 font-medium" %>
      <% else %>
        <%= button_to "Activate", activate_team_path(@team), method: :patch, class: "bg-green-600 text-white px-4 py-2 rounded-md hover:bg-green-700 font-medium" %>
      <% end %>
      <%= link_to "Back to Teams", teams_path, class: "bg-gray-300 text-gray-700 px-4 py-2 rounded-md hover:bg-gray-400 font-medium" %>
    </div>
  </div>

  <!-- Team Status -->
  <div class="grid grid-cols-1 md:grid-cols-4 gap-4">
    <div class="bg-white rounded-lg shadow p-4">
      <div class="text-sm text-gray-600">Status</div>
      <% if @team.active? %>
        <div class="text-xl font-bold text-green-600">Active</div>
      <% else %>
        <div class="text-xl font-bold text-gray-600">Archived</div>
      <% end %>
    </div>
    <div class="bg-white rounded-lg shadow p-4">
      <div class="text-sm text-gray-600">Total Members</div>
      <div class="text-xl font-bold text-gray-900"><%= @team_members.count %></div>
    </div>
    <div class="bg-white rounded-lg shadow p-4">
      <div class="text-sm text-gray-600">Created</div>
      <div class="text-xl font-bold text-gray-900"><%= @team.created_at.strftime('%b %d, %Y') %></div>
    </div>
    <div class="bg-white rounded-lg shadow p-4">
      <div class="text-sm text-gray-600">Last Updated</div>
      <div class="text-xl font-bold text-gray-900"><%= @team.updated_at.strftime('%b %d, %Y') %></div>
    </div>
  </div>

  <!-- Team Members Section -->
  <div class="bg-white rounded-lg shadow">
    <div class="px-6 py-4 border-b border-gray-200 flex justify-between items-center">
      <h2 class="text-xl font-semibold text-gray-900">Team Members</h2>
      <%= link_to "Add Member", new_team_team_member_path(@team), class: "bg-green-600 text-white px-3 py-2 rounded-md hover:bg-green-700 text-sm font-medium" %>
    </div>
    <div class="p-6">
      <% if @team_members.any? %>
        <div class="overflow-x-auto">
          <table class="min-w-full divide-y divide-gray-200">
            <thead class="bg-gray-50">
              <tr>
                <th class="px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider">Name</th>
                <th class="px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider">Role</th>
                <th class="px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider">Email</th>
                <th class="px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider">Phone</th>
                <th class="px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider">Actions</th>
              </tr>
            </thead>
            <tbody class="bg-white divide-y divide-gray-200">
              <% @team_members.each do |member| %>
                <tr class="hover:bg-gray-50">
                  <td class="px-6 py-4 whitespace-nowrap text-sm font-medium text-gray-900"><%= member.name %></td>
                  <td class="px-6 py-4 whitespace-nowrap text-sm text-gray-600"><%= member.role %></td>
                  <td class="px-6 py-4 whitespace-nowrap text-sm text-gray-600">
                    <% if member.email.present? %>
                      <%= link_to member.email, "mailto:#{member.email}", class: "text-emerald-600 hover:text-emerald-700" %>
                    <% else %>
                      <span class="text-gray-400">-</span>
                    <% end %>
                  </td>
                  <td class="px-6 py-4 whitespace-nowrap text-sm text-gray-600">
                    <% if member.phone.present? %>
                      <%= link_to member.phone, "tel:#{member.phone}", class: "text-emerald-600 hover:text-emerald-700" %>
                    <% else %>
                      <span class="text-gray-400">-</span>
                    <% end %>
                  </td>
                  <td class="px-6 py-4 whitespace-nowrap text-sm font-medium">
                    <div class="flex items-center space-x-2">
                      <%= link_to "Edit", edit_team_team_member_path(@team, member), class: "text-emerald-600 hover:text-emerald-700" %>
                      <%= button_to "Delete", team_team_member_path(@team, member), method: :delete, form: { data: { turbo_confirm: "Remove this member?" }, class: "inline" }, class: "text-red-600 hover:text-red-700" %>
                    </div>
                  </td>
                </tr>
              <% end %>
            </tbody>
          </table>
        </div>
      <% else %>
        <div class="text-center py-12">
          <p class="text-gray-500 text-lg mb-4">No team members yet</p>
          <%= link_to "Add first member", new_team_team_member_path(@team), class: "text-emerald-600 hover:text-emerald-700 font-medium" %>
        </div>
      <% end %>
    </div>
  </div>
</div>
